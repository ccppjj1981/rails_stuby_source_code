<p id="notice"><%= notice %></p>

<h1>Products</h1>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Description</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody id = "productsTable">
      <%=render @products%>
    </tbody>
  </table>
</div>
<br>

<%= link_to '新建商品', new_product_path,
  :class => 'btn btn-primary',data: {toggle: "modal", target: "#newProductFormModal"} %>
<div class="modal fade" id="newProductFormModal" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <%= form_for @product, remote: true, :html => { :class => 'form-horizontal', id: "newProductForm" } do |f| %>
    <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
           <h4 class="modal-title">添加一个商品s</h4>
        </div>
        <div class="modal-body">
          <%= render partial: "f", locals: {f: f} %>
        </div>
        <div class="modal-footer">
          <%= link_to "取消", '#', :class => 'btn btn-default', data: {dismiss: "modal"} %>

          <%= f.submit nil,:class => 'btn btn-primary', :data => { :"disable-with" => "请稍等..." } %>
        </div>
      </div>
    <% end %>
  </div>
</div>
<script>
  $('#newProductFormModal').modal({
    show: false,
  })
</script>
